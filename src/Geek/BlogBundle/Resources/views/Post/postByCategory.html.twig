{% extends '@GeekBlog/Default/base.html.twig' %}
{% block body %}
    <div class="well">
        <div class="navigation" align="center">
            {{ knp_pagination_render(pagination) }}
        </div>
        {% for post in pagination %}
            <div class="well">
                <a href="{{ path("viewPost", {'id' : post.getId() })}}">
                    <h2> {{post.title}}</h2>
                </a>
                <h5><span class="glyphicon glyphicon-time"></span>Post by {{ post.user.getUsername }}, {{ post.date | date('Y-m-d') }}</h5>
                {% for tag in post.getTags %}
                <a class="btn-xs btn-primary" style="margin: 1px" href="{{ path("postByTag", {'tag' : tag.getId })}}">
                    <span class="glyphicon glyphicon-tag"></span> {{ tag.getName }} </a>
                {% endfor %}<hr>
                <p>
                    {{ post.content}}
                </p>
                <div align="right">
                    <a class="btn-xs btn-primary" href="{{ path("postByCategory", {'category' : post.getCategory().getId() })}}">
                        <span class="glyphicon glyphicon-chevron-right"></span> {{ post.getCategory().getName() }} </a>
                </div>
            </div>
        {% endfor %}
        <div class="navigation" align="center">
            {{ knp_pagination_render(pagination) }}
        </div>
    </div>
{% endblock %}

{% block right %}
    {{ render(controller('GeekBlogBundle:Tag:list')) }}
{% endblock %}